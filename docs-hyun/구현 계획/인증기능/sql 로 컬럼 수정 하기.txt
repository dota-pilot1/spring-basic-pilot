[SQL 컬럼 추가 시 DEFAULT 값이 필요한 이유]

`ALTER TABLE users ADD COLUMN email VARCHAR(100) NOT NULL UNIQUE DEFAULT '...';`

사용자님이 궁금해하신 "왜 이메일(기본값)이 필요한가?"에 대한 답은 **'이미 존재하는 데이터'** 때문입니다.

1. 문제 상황 (데이터 갈등)
- 현재 `users` 테이블에는 이미 'admin'과 'user'라는 두 명의 사용자가 살고 있습니다.
- 그런데 갑자기 `email`이라는 방을 새로 만들면서 "이 방은 절대 비어있으면 안 돼(`NOT NULL`)!"라는 규칙을 세웠습니다.
- 이때 DB는 당황합니다. "기존에 있던 admin과 user의 이메일 방은 지금 비어있는데, NOT NULL 규칙을 어떻게 지키라는 거지?"

2. 해결책: DEFAULT (임시 방편)
- 이때 `DEFAULT '임시@이메일.com'`을 주면, DB가 기존에 있던 데이터들에게 일단 저 임시 이메일을 하나씩 다 쥐어줍니다.
- 그래야만 `NOT NULL` 규칙을 어기지 않고 성공적으로 컬럼을 만들 수 있습니다.

3. 만약 기본값이 싫다면? (깔끔한 방법)
만약 임시 이메일이 들어가는 게 지저분하게 느껴진다면, 아래 순서대로 처리하는 것이 실무적입니다.

방법 A: 비어있는 방부터 만들고 나중에 채우기
1) `email` 컬럼을 NULL 허용으로 일단 추가 (데이터 없음)
2) 기존 유저들의 이메일을 일일이 업데이트 (UPDATE문 사용)
3) 컬럼 속성을 `NOT NULL`로 변경 (ALTER COLUMN SET NOT NULL)

방법 B: 초기화 (가장 빠름)
- 테스트 환경이라면 `DROP TABLE users CASCADE;`로 테이블을 아예 지우고 다시 실행하면 됩니다. (Spring Boot가 가동될 때 `schema.sql`을 읽어서 깨끗하게 다시 만들어 줍니다.)

---
추천: 지금은 공부 단계이므로 **방법 B(테이블 삭제 후 재실행)**가 가장 깔끔하게 구조를 확인할 수 있는 방법입니다!
